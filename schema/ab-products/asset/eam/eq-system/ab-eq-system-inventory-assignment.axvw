<view version="2.0">
    <title>Inventory Tree</title>
    <!-- Messages used when drag action is performed. -->
    <message name="move" translatable="true">Move</message>
    <message name="copy" translatable="true">Copy</message>
    <panel type="tree" controlType="table" id="eqAssignmentTreePanel" dataSource="eqSysInvMasterDs" showLabels="false">
        <title>System Assignments</title>
        <action id="refresh" imageName="/schema/ab-core/graphics/icons/view/refresh-icon.png" hidden="true">
            <tooltip>Refresh Selected Node</tooltip>
        </action>
        <action id="display" imageName="/schema/ab-core/graphics/icons/view/display-icon.png">
            <tooltip>Display</tooltip>
            <command type="callFunction" functionName="configDisplayPanel('eqAssignmentTreePanel')"/>
        </action>
        <event type="onClickNode">
            <command type="callFunction" functionName="onClickNodeHandler"/>
        </event>
        <field name="vf_concatenated_node" dataType="text"/>
        <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
            <title>Edit</title>
            <tooltip>Edit</tooltip>
        </field>
        <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
            <title>Add</title>
            <tooltip>Add</tooltip>
            <command type="showPanel" panelId="eqSystemForm" newRecord="true"/>
        </field>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_2" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
                <command type="showPanel" panelId="eqSystemForm"/>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
                <command type="showPanel" panelId="eqSystemForm" newRecord="true"/>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_3" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_4" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_5" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_6" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_7" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_8" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
        <panel type="tree" controlType="table" id="eqAssignmentTreeLvl_9" dataSource="eqSysInvDependDs" showLabels="false">
            <event type="onClickNode">
                <command type="callFunction" functionName="onClickNodeHandler"/>
            </event>
            <field name="vf_concatenated_node" dataType="text"/>
            <field id="edit" controlType="image" imageName="/schema/ab-core/graphics/icons/view/edit.png">
                <title>Edit</title>
                <tooltip>Edit</tooltip>
            </field>
            <field id="add" controlType="image" imageName="/schema/ab-core/graphics/icons/view/add-icon.png">
                <title>Add</title>
                <tooltip>Add</tooltip>
            </field>
        </panel>
    </panel>
    <panel type="form" id="eqSystemForm" dataSource="eqSystemDs" columns="2" showOnLoad="false" hidden="true">
        <title>Equipment System</title>
        <action id="delete" hidden="${record.isNew}">
            <title>Delete</title>
            <command type="deleteRecord" formId="eqSystemForm"/>
            <command type="callFunction" functionName="View.controllers.get('eqSysAssignmentController').refreshTreeView()"/>
            <command type="closeDialog"/>
            <command type="showPanel" panelId="eqInventoryUnassignedPanel" applyParentRestriction="false"/>
            <command type="showPanel" panelId="eqSysInventoryTreePanel" applyParentRestriction="false"/>
        </action>
        <action id="save" mainAction="true">
            <title>Save</title>
        </action>
        <action id="cancel">
            <title>Cancel</title>
            <command type="closeDialog"/>
        </action>
        <field name="eq_id_master" readOnly="true"/>
        <field name="system_name"/>
        <field name="eq_id_depend"/>
        <field id="tree_label" size="90" dataType="text" readOnly="true">
            <title>Tree Label</title>
        </field>
        <field name="criticality_mission"/>
        <field name="system_level"/>
        <field name="criticality_function"/>
        <field name="system_bl_id"/>
        <field name="stakeholder_type"/>
        <field name="sort_order" readOnly="true"/>
        <field name="auto_number" hidden="true"/>
    </panel>
</view>
