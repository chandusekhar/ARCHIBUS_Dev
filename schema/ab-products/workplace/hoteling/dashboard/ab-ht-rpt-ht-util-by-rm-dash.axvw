<view version="2.0">
	<title translatable="true">Hoteled Utilization by Room</title>
	<message name="tableTitle" translatable="true">Hoteled Utilization Percentages by Room for Year:</message>
	<message name="Jan" translatable="true">January</message>
 	<message name="Feb" translatable="true">February</message>
	<message name="Mar" translatable="true">March</message>
	<message name="Apr" translatable="true">April</message>
	<message name="May" translatable="true">May</message>
	<message name="Jun" translatable="true">June</message>
	<message name="Jul" translatable="true">July</message>
	<message name="Aug" translatable="true">August</message>
	<message name="Sep" translatable="true">September</message>
	<message name="Oct" translatable="true">October</message>
	<message name="Nov" translatable="true">November</message>
	<message name="Dec" translatable="true">December</message>
    
	<dataSource id="rmDpstats1dLine_ds_date" type="grouping">
		<sql dialect="generic">
			SELECT 
			       rmpct.bl_id${sql.concat}'-'${sql.concat}rmpct.fl_id${sql.concat}'-'${sql.concat}rmpct.rm_id ${sql.as} bl_fl_rm, 
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon1LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon1LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon1FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon1LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon1LastDate']}  AS DATE) THEN CAST(${parameters['mon1LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon1FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon1FirstDate']} AS DATE) THEN CAST(${parameters['mon1FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon1FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon1LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon1FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2)  )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon1Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_1,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon2LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon2LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon2FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon2LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon2LastDate']}  AS DATE) THEN CAST(${parameters['mon2LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon2FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon2FirstDate']} AS DATE) THEN CAST(${parameters['mon2FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon2FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon2LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon2FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon2Days']}  )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_2,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon3LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon3LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon3FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon3LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon3LastDate']}  AS DATE) THEN CAST(${parameters['mon3LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon3FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon3FirstDate']} AS DATE) THEN CAST(${parameters['mon3FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon3FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon3LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon3FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon3Days']}  )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_3,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon4LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon4LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon4FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon4LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon4LastDate']}  AS DATE) THEN CAST(${parameters['mon4LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon4FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon4FirstDate']} AS DATE) THEN CAST(${parameters['mon4FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon4FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon4LastDate']}   AS DATE) AND rmpct.date_end &gt;=CAST(${parameters['mon4FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon4Days']}  )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_4,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon5LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon5LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon5FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon5LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon5LastDate']}  AS DATE) THEN CAST(${parameters['mon5LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon5FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon5FirstDate']} AS DATE) THEN CAST(${parameters['mon5FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon5FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon5LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon5FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2)) / ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon5Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_5,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon6LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon6LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon6FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon6LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon6LastDate']}  AS DATE) THEN CAST(${parameters['mon6LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon6FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon6FirstDate']} AS DATE) THEN CAST(${parameters['mon6FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon6FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon6LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon6FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon6Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_6,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon7LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon7LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon7FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon7LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon7LastDate']}  AS DATE) THEN CAST(${parameters['mon7LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon7FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon7FirstDate']} AS DATE) THEN CAST(${parameters['mon7FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon7FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon7LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon7FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) ) / ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon7Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_7,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon8LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon8LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon8FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon8LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon8LastDate']}  AS DATE) THEN CAST(${parameters['mon8LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon8FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon8FirstDate']} AS DATE) THEN CAST(${parameters['mon8FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon8FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon8LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon8FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon8Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_8,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon9LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon9LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon9FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon9LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon9LastDate']}  AS DATE) THEN CAST(${parameters['mon9LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon9FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon9FirstDate']} AS DATE) THEN CAST(${parameters['mon9FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon9FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon9LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon9FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon9Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_9,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon10LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon10LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon10FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon10LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon10LastDate']}  AS DATE) THEN CAST(${parameters['mon10LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon10FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon10FirstDate']} AS DATE) THEN CAST(${parameters['mon10FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon10FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon10LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon10FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon10Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_10,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon11LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon11LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon11FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon11LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon11LastDate']}  AS DATE) THEN CAST(${parameters['mon11LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon11FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon11FirstDate']} AS DATE) THEN CAST(${parameters['mon11FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon11FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon11LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon11FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2)) / ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END )
				)  /( ${parameters['mon11Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_11,
			       SUM(   
					cast(  (  CASE WHEN rmpct.date_start &lt;= CAST(${parameters['mon12LastDate']} AS DATE) AND rmpct.date_end &lt;= CAST(${parameters['mon12LastDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon12FirstDate']}  AS DATE) THEN rmpct.date_end 
						   WHEN rmpct.date_start &lt;= CAST(${parameters['mon12LastDate']}  AS DATE) AND rmpct.date_end &gt; CAST(${parameters['mon12LastDate']}  AS DATE) THEN CAST(${parameters['mon12LastDate']}  AS DATE)
						   ELSE  CAST('2009-11-01' AS DATE) END
										       -
							  CASE WHEN rmpct.date_start&lt;CAST(${parameters['mon12FirstDate']}  AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon12FirstDate']} AS DATE) THEN CAST(${parameters['mon12FirstDate']} AS DATE)
						   WHEN rmpct.date_start&gt;=CAST(${parameters['mon12FirstDate']}  AS DATE) AND rmpct.date_start&lt;=CAST(${parameters['mon12LastDate']}   AS DATE) AND rmpct.date_end &gt;= CAST(${parameters['mon12FirstDate']} AS DATE) THEN rmpct.date_start
						   ELSE CAST('2009-11-02' AS DATE) END 
					      +1 
					    )
					as decimal(9,2) )/ ( CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END  )
				)  /( ${parameters['mon12Days']} )
				/ ( SELECT rm.cap_em - rm.count_em FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
				${sql.as} month_12
			FROM rmpct 
			WHERE  ${parameters['dvRes']} AND ${parameters['dpRes']} AND rmpct.activity_log_id IS NOT NULL
			GROUP BY rmpct.bl_id, rmpct.fl_id, rmpct.rm_id 
		</sql>
        <sql dialect="oracle">
		SELECT 
		       rmpct.bl_id${sql.concat}'-'${sql.concat}rmpct.fl_id${sql.concat}'-'${sql.concat}rmpct.rm_id ${sql.as} bl_fl_rm, 
		       SUM( (CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon1LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon1FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon1Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_1,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon2LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon2FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon2Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_2,
		       SUM((CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon3LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon3FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon3Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_3,
		       SUM((CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon4LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon4FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon4Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_4,
		       SUM((CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon5LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon5FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon5Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_5,
		       SUM((CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon6LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon6FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon6Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_6,
		       SUM((CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon7LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon7FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon7Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_7,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon8LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon8FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon8Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_8,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon9LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon9FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon9Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_9,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon10LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon10FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon10Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_10,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon11LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon11FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon11Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_11,
		       SUM(	(CASE 
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &lt;= to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_end
					WHEN rmpct.date_start &lt;= to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt; to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' )
					ELSE  to_date('2009-11-01', 'yyyy-mm-dd' ) 
				END
				-
				CASE 
					WHEN rmpct.date_start&lt;to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;= to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' ) THEN to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' )
					WHEN rmpct.date_start&gt;=to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' ) AND rmpct.date_start&lt;=to_date(${parameters['mon12LastDate']}, 'yyyy-mm-dd' ) AND rmpct.date_end &gt;=to_date(${parameters['mon12FirstDate']}, 'yyyy-mm-dd' ) THEN rmpct.date_start
					ELSE to_date('2009-11-02', 'yyyy-mm-dd' ) 
				END
				+
				1 )/ (CASE WHEN rmpct.day_part=0 THEN 1 ELSE 2 END) )
			/ ( ${parameters['mon12Days']} )  
			/ ( SELECT CASE WHEN (rm.cap_em - rm.count_em)=0 THEN 1 ELSE  rm.cap_em - rm.count_em END FROM rm  
							WHERE rmpct.bl_id=rm.bl_id  AND rmpct.fl_id=rm.fl_id  AND rmpct.rm_id=rm.rm_id AND rm.cap_em-rm.count_em>0)
			${sql.as} month_12
		FROM rmpct 
		WHERE  ${parameters['dvRes']} AND ${parameters['dpRes']} AND rmpct.activity_log_id IS NOT NULL
		GROUP BY rmpct.bl_id, rmpct.fl_id, rmpct.rm_id 
	</sql>
		<table name="rmpct" role="main"/>
		<field table="rmpct" name="bl_fl_rm" dataType="text"  groupBy="true"/> 
		<field table="rmpct" name="month_1"  formula="sum"  baseField="rmpct.month_1"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">January</title>
		</field>
		<field table="rmpct" name="month_2"  formula="sum"  baseField="rmpct.month_2"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">February</title>
		</field>
		<field table="rmpct" name="month_3"  formula="sum"  baseField="rmpct.month_3"  dataType="number" decimals="2" showTotals="false">
			<title translatable="true">March</title>
		</field>
		<field table="rmpct" name="month_4"  formula="sum"  baseField="rmpct.month_4"  dataType="number" decimals="2" showTotals="false">
			<title translatable="true">April</title>
		</field>
		<field table="rmpct" name="month_5"  formula="sum"  baseField="rmpct.month_5"  dataType="number" decimals="2" showTotals="false">
			<title translatable="true">May</title>
		</field>
		<field table="rmpct" name="month_6"  formula="sum"  baseField="rmpct.month_6"  dataType="number" decimals="2" showTotals="false">
			<title translatable="true">June</title>
		</field>
		<field table="rmpct" name="month_7"  formula="sum"  baseField="rmpct.month_7"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">July</title>
		</field>
		<field table="rmpct" name="month_8"  formula="sum"  baseField="rmpct.month_8"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">August</title>
		</field>
		<field table="rmpct" name="month_9"  formula="sum"  baseField="rmpct.month_9"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">September</title>
		</field>
		<field table="rmpct" name="month_10"  formula="sum"  baseField="rmpct.month_10"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">October</title>
		</field>
		<field table="rmpct" name="month_11"  formula="sum"  baseField="rmpct.month_11"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">November</title>
		</field>
		<field table="rmpct" name="month_12"  formula="sum"  baseField="rmpct.month_12"  dataType="number"  decimals="2" showTotals="false">
			<title translatable="true">Dececmber</title>
		</field>
		<parameter name="dvRes" dataType="verbatim" value=""/>
		<parameter name="dpRes" dataType="verbatim" value=""/>
		<parameter name="mon1FirstDate" dataType="text" value=""/>
		<parameter name="mon1LastDate" dataType="text" value=""/>
		<parameter name="mon2FirstDate" dataType="text" value=""/>
		<parameter name="mon2LastDate" dataType="text" value=""/>
		<parameter name="mon3FirstDate" dataType="text" value=""/>
		<parameter name="mon3LastDate" dataType="text" value=""/>
		<parameter name="mon4FirstDate" dataType="text" value=""/>
		<parameter name="mon4LastDate" dataType="text" value=""/>
		<parameter name="mon5FirstDate" dataType="text" value=""/>
		<parameter name="mon5LastDate" dataType="text" value=""/>
		<parameter name="mon6FirstDate" dataType="text" value=""/>
		<parameter name="mon6LastDate" dataType="text" value=""/>
		<parameter name="mon7FirstDate" dataType="text" value=""/>
		<parameter name="mon7LastDate" dataType="text" value=""/>
		<parameter name="mon8FirstDate" dataType="text" value=""/>
		<parameter name="mon8LastDate" dataType="text" value=""/>
		<parameter name="mon9FirstDate" dataType="text" value=""/>
		<parameter name="mon9LastDate" dataType="text" value=""/>
		<parameter name="mon10FirstDate" dataType="text" value=""/>
		<parameter name="mon10LastDate" dataType="text" value=""/>
		<parameter name="mon11FirstDate" dataType="text" value=""/>
		<parameter name="mon11LastDate" dataType="text" value=""/>
		<parameter name="mon12FirstDate" dataType="text" value=""/>
		<parameter name="mon12LastDate" dataType="text" value=""/>
		<parameter name="mon1Days" dataType="integer" value=""/>
		<parameter name="mon2Days" dataType="integer" value=""/>
		<parameter name="mon3Days" dataType="integer" value=""/>
		<parameter name="mon4Days" dataType="integer" value=""/>
		<parameter name="mon5Days" dataType="integer" value=""/>
		<parameter name="mon6Days" dataType="integer" value=""/>
		<parameter name="mon7Days" dataType="integer" value=""/>
		<parameter name="mon8Days" dataType="integer" value=""/>
		<parameter name="mon9Days" dataType="integer" value=""/>
		<parameter name="mon10Days" dataType="integer" value=""/>
		<parameter name="mon11Days" dataType="integer" value=""/>
		<parameter name="mon12Days" dataType="integer" value=""/>
	</dataSource>

	<panel type="crossTable" id="abTestCrossTable" showOnLoad="false" dataSource="rmDpstats1dLine_ds_date">
		<title translatable="true">Cross Table</title>
	</panel>

 	<panel type="html" id="customChart_HotelUtilizationChart" showOnLoad="true"> 
		<title translatable="true">Hoteled Utilization by Room</title>
		<html>
		    <div id="customChart_chart" class="chart"></div>
		</html>
	</panel>
	<css>
			.chart {
			    overflow: hidden;
			    position: relative;
			    margin: 8px; 
			    width: 800px; 
			    height: 400px; 
			    border: 1px solid #E5E5E5;
			}
	</css>
	<!-- include YUI Chart control and supporting library files -->
	<js file="element-debug.js"/> 
	<js file="datasource-debug.js"/> 
	<js file="json-debug.js"/>
	<js file="charts-debug.js"/> 	
	<js file="swf-debug.js"/> 	

	<js file="ab-ht-rpt-ht-util-by-rm-dash.js"/>
</view>