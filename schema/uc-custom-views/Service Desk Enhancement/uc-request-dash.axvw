<!-- Change Log -->
<!-- 2015/10/26 - MSHUSSAI - Updated some display text on this page -->
<!-- 2015/12/21 - MSHUSSAI - Updated URL for Whats New or FAQ -->

<view version="2.0">

	<js file="uc-request-dash_2.js"  />

	<style type="text/css">
		.topBtns {
			width:100%;
			height:100px;

			border-style: solid;
			border-width: 1px;
			border-color: #666668;

			border-radius: 20px;
			background: #666668;
			/*color: #446a9b;*/
			color: #FFFFFF;
			cursor:pointer;
			font-weight:bold;

			-moz-border-radius: 20px;
			-webkit-border-radius: 20px;
			-khtml-border-radius: 20px;

			background-color:48484A;

			background: #666668; /* Old browsers */
			background: -moz-linear-gradient(top, #666668 0%, #48484a 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#666668), color-stop(100%,#48484a)); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top, #666668 0%,#48484a 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top, #666668 0%,#48484a 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(top, #666668 0%,#48484a 100%); /* IE10+ */
			background: linear-gradient(to bottom, #666668 0%,#48484a 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#666668', endColorstr='#48484a',GradientType=0 ); /* IE6-9 */
		}

		.topBtns:hover {
			background: #000000;
			color: #ffffff;

		}
		.botBtns {
			width:100%;
			height:100px;
			border-style: solid;
			border-width: 1px;
			border-color: #a68248;
			border-radius: 20px;
			background: #fff2dc;
			color: #a68248;
			cursor:pointer;
			-moz-border-radius: 20px;
			-webkit-border-radius: 20px;
			-khtml-border-radius: 20px;
		}

		.blueBtns {
			width:100%;
			height:100px;
			border-style: solid;
			border-width: 1px;
			border-color: #344d6d;
			border-radius: 20px;
			background: #d1deef;
			color: #112947;
			cursor:pointer;
			-moz-border-radius: 20px;
			-webkit-border-radius: 20px;
			-khtml-border-radius: 20px;
		}

		.botBtns:hover {
			background: #a68248;
			color: #ffffff;
		}
		.btnTbl {
			width: 100%;
			background-color:#fff;
			padding: 10px;

		}
 		.btnTbl td{
			width:14%;

		}
 		.mstatement {
			width:60%;
			height:125px;
			border-style: solid;
			border-width: 2px;
			border-color: gray;
			background: white;
		}
		p.msgbox1p1 {
			background-color:rgb(231, 232, 233);
			/*background-color:#3D79BD;
			color:#FFFFFF;*/
			color:#ed1c24;
			font-weight:bold;
			font-size: 9pt;
			padding:2px;

		}
		p.msgbox2p1 {
			background-color:#FF6600;
			color:#FFFFFF;
			font-weight:bold;
			font-size: 14px;

		}
		p.msgbox2p2 {
			font-size:18px;
			color:#FF6600;
			position: relative;
		}
  		.rightImage {
			margin-right:15px;
		}
		.leftImage {
			margin-left:15px;
		}
		.probCatBtn {
			cursor:pointer;
			border-width: 1px;
			border-color: #446a9b;
			border-radius: 20px;

			width: 100% !important;
			color:#fff;
			font-weight:bold;


			background: #666668; /* Old browsers */
			background: -moz-linear-gradient(top, #666668 0%, #48484a 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#666668), color-stop(100%,#48484a)); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top, #666668 0%,#48484a 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top, #666668 0%,#48484a 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(top, #666668 0%,#48484a 100%); /* IE10+ */
			background: linear-gradient(to bottom, #666668 0%,#48484a 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#666668', endColorstr='#48484a',GradientType=0 ); /* IE6-9 */


		}
		.panelReport {
			width: 100% !important;
		}
		.panelReport td{
			width:14%;
		}

		.x-menu, .x-menu-item {
			background:#fff2dc;
		}

		.x-menu-item-active {
			background:#d1deef;
		}

		.ucBackground {
			background-image:url('/archibus/schema/uc-custom-views/Service Desk Enhancement/service_desk_background.png');
			background-color:#000;
			height:100%;
		}

		.ucMenuContainer {

		}


		.ucHeaderBar {
			height:106px;
			padding:0;
			margin:0;
			background-size:auto 106px;
			background-repeat:no-repeat;
			background-position:right;
			background-image:url('/archibus/schema/uc-custom-views/Service Desk Enhancement/uc_header_background.jpg');
		}

		.ucMainDisplay {
			display:block;
			margin-left:auto;
			margin-right:auto;width:1000px;
			cellspacing:0;
			cellPadding:0;
			background-color:rgb(231, 232, 233);
		}


		.ucBody {
			overflow:scroll;
			padding:0px;
			margin:0px;
			background-image:url('/archibus/schema/uc-custom-views/Service Desk Enhancement/service_desk_background.png');
			background-attachment:scroll;
			background-repeat:repeat;
			background-color:rgb(0,0,0);
			height:100%;
		}

		.ucSpacer {

			background: #666668; /* Old browsers */
			background: -moz-linear-gradient(top, #666668 0%, #48484a 100%); /* FF3.6+ */
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#666668), color-stop(100%,#48484a)); /* Chrome,Safari4+ */
			background: -webkit-linear-gradient(top, #666668 0%,#48484a 100%); /* Chrome10+,Safari5.1+ */
			background: -o-linear-gradient(top, #666668 0%,#48484a 100%); /* Opera 11.10+ */
			background: -ms-linear-gradient(top, #666668 0%,#48484a 100%); /* IE10+ */
			background: linear-gradient(to bottom, #666668 0%,#48484a 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#666668', endColorstr='#48484a',GradientType=0 ); /* IE6-9 */
			height:35px;
			padding:0px;
			margin:0px;

		}

		.ucText {
			font-family:Arial;
			font-size:9pt;
			font-weight:normal;
			font-style: normal;
			color: rgb(60,60,60);
		}

		p.ucCopyright {
			padding-top: 5px;
			padding-left: 7px;
			font-family: 'LatoRegular';
			font-size: 12px;
			color: #f1f1f1;
		}


	</style>

	<layout type="borderLayout" id="mainLayout">
		<north id="instructions" split="false" initialSize="100%"/>
		<center id="center"   />
	</layout>

	<layout id="centerLayout" containingLayout="mainLayout" region="center" >
		<north id="btns" autoScroll="true" split="false" initialSize="26px" />
		<center id="center2" autoScroll="true"    />

	</layout>
	<layout id="centerLayout2" containingLayout="centerLayout" region="center">
		<center id="details" autoScroll="true"   />
		<north id="probtype" autoScroll="true" split="false" initialSize="200px" />
	</layout>


	<dataSource id="requestDetail_gridDs2">

		<sql dialect="generic">
			select distinct b.activity, b.row,
			b1.image_file col1Image,b1.prob_cat col1ProbCat,b2.image_file col2Image,b2.prob_cat col2ProbCat,b3.image_file col3Image,b3.prob_cat col3ProbCat,
			b4.image_file col4Image,b4.prob_cat col4ProbCat,b5.image_file col5Image,b5.prob_cat col5ProbCat,
			isnull(b1.task_file,'uc-wr-create.axvw') file1,isnull(b2.task_file,'uc-wr-create.axvw') file2,isnull(b3.task_file,'uc-wr-create.axvw') file3,
			isnull(b4.task_file,'uc-wr-create.axvw') file4,isnull(b5.task_file,'uc-wr-create.axvw') file5
			from (select distinct activity, convert(int,display_order/5) row
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null) ) b
			left join (select prob_cat,activity, case
			when display_order = 5  then convert(int,display_order/5) -1
			when display_order = 10  then convert(int,display_order/5) -1 else convert(int,display_order/5)
			end   row, case when (display_order - (convert(int,display_order/5)*5)-1) &lt; 0 then (display_order - (convert(int,display_order/5)*5)-1) + 5 else display_order - (convert(int,display_order/5)*5)-1 end     col,image_file,task_file
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null)
			) b1 on b1.activity=b.activity and b1.row=b.row and b1.col=0
			left join (select prob_cat, activity,case
			when display_order = 5  then convert(int,display_order/5) -1
			when display_order = 10  then convert(int,display_order/5) -1
			when display_order = 15  then convert(int,display_order/5) -1
			when display_order = 20  then convert(int,display_order/5) -1
			else convert(int,display_order/5)
			   end   row, case when (display_order - (convert(int,display_order/5)*5)-1) &lt; 0 then (display_order - (convert(int,display_order/5)*5)-1) + 5 else display_order - (convert(int,display_order/5)*5)-1 end     col,image_file,task_file
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null)
			) b2 on b2.activity=b.activity and b2.row=b.row and b2.col=1
			left join (select prob_cat,activity, case
			when display_order = 5  then convert(int,display_order/5) -1
			when display_order = 10  then convert(int,display_order/5) -1
			when display_order = 15  then convert(int,display_order/5) -1
			when display_order = 20  then convert(int,display_order/5) -1
			else convert(int,display_order/5)
			  end   row, case when (display_order - (convert(int,display_order/5)*5)-1) &lt; 0 then (display_order - (convert(int,display_order/5)*5)-1) + 5 else display_order - (convert(int,display_order/5)*5)-1 end     col,image_file,task_file
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null)
			) b3 on b3.activity=b.activity and b3.row=b.row and b3.col=2
			left join (select prob_cat, activity,case
			when display_order = 5  then convert(int,display_order/5) -1
			when display_order = 10  then convert(int,display_order/5) -1
			when display_order = 15  then convert(int,display_order/5) -1
			when display_order = 20  then convert(int,display_order/5) -1
			else convert(int,display_order/5)
			end   row, case when (display_order - (convert(int,display_order/5)*5)-1) &lt; 0 then (display_order - (convert(int,display_order/5)*5)-1) + 5 else display_order - (convert(int,display_order/5)*5)-1 end     col,image_file,task_file
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null)
			) b4 on b4.activity=b.activity and b4.row=b.row and b4.col=3
			left join (select prob_cat, activity, case
			when display_order = 5  then convert(int,display_order/5) -1
			when display_order = 10  then convert(int,display_order/5) -1
			when display_order = 15  then convert(int,display_order/5) -1
			when display_order = 20  then convert(int,display_order/5) -1
			else convert(int,display_order/5)
			  end   row, case when (display_order - (convert(int,display_order/5)*5)-1) &lt; 0 then (display_order - (convert(int,display_order/5)*5)-1) + 5 else display_order - (convert(int,display_order/5)*5)-1 end     col,image_file,task_file
			from uc_probcat where status='A' ${parameters['security']} and (exists (select 1 from probtype t where t.status='A' and t.prob_cat=uc_probcat.prob_cat) or task_file is not null)
			) b5 on b5.activity=b.activity and b5.row=b.row and b5.col=4
			${parameters['activity_param']}
		</sql>
		<parameter name="activity_param" dataType="verbatim" value="WHERE 1=1" />
		<parameter name="security" dataType="verbatim" value="" />
		<table name="uc_probcat" role="main"/>
		<field table="uc_probcat" name="activity" />
		<field name="row" dataType="text"/>

		<field name="col1Image" dataType="text"/>
		<field name="col1ProbCat" dataType="text"/>
		<field name="col2Image" dataType="text"/>
		<field name="col2ProbCat" dataType="text"/>
		<field name="col3Image" dataType="text"/>
		<field name="col3ProbCat" dataType="text"/>
		<field name="col4Image" dataType="text"/>
		<field name="col4ProbCat" dataType="text"/>
		<field name="col5Image" dataType="text"/>
		<field name="col5ProbCat" dataType="text"/>

		<field name="file1" dataType="text"/>
		<field name="file2" dataType="text"/>
		<field name="file3" dataType="text"/>
		<field name="file4" dataType="text"/>
		<field name="file5" dataType="text"/>
    </dataSource>

	<panel type="html" id="instructionsPanel" showOnLoad="true" layoutRegion="instructions">

			<html >
				<head>
					<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
				</head>

				<body class="ucBody" >
					<div class="ucBackground" >
						<table style="" class="ucMainDisplay">


							<!-- HEADER -->
							<tr style="padding:0;margin:0; background-color:#fff;" height="106px" >
								<td style="padding:0;margin:0;">
									<div id="ucHeader"  style="" class="ucHeaderBar">
										<div id="ucLogo" style="margin-left:20px;margin-top:0px;margin-bottom:auto;">
											<img src="/archibus/schema/uc-custom-views/uc_logo_square.jpg" style="margin-top:15px;padding:0;" height="70px"></img>
										</div>
									</div>

								</td>
							</tr>

							<!-- SPACER -->
							<tr class="ucSpacer">
								<td class="ucSpacer">

								</td>

							</tr>


							<!-- BUTTONS -->
							<tr>
								<td style="vertical-align: top;padding:10px">


										<table id="btnTbl" class="btnTbl" align="center" cellspacing="6" >
											<tr>
												<td width="16% !important">
													<button id="Maintenance" title="Maintenance Request" class="topBtns" onclick="selectBtn(this,null)">Maintenance Request</button>
												</td>
												<td width="17% !important">
													<!--button id="Fleet" title="Fleet Request" class="topBtns" onclick="selectBtn(this,'UC-FLEET,UC_FLEETGROUNDS,UC_FLEETMAINTMANAGER,UC_FLEETMANAGER,UC_FLEETRISKMANAGER')">Fleet Request</button-->
													<button id="Fleet" title="Fleet Request" class="topBtns" onclick="selectBtn(this,null)">Fleet Request</button>
												</td>
												<td width="17% !important">
													<button id="Project" title="Construction / Renovation Request" class="topBtns" onclick="selectBtn(this,'UC-CP,UC-CPADMIN,UC-ENDORSER,UC-PMENDORSER,UC-PMOADMIN,UC-PMOPM,UC-PROJECTS,%')">Construction / Renovation Request</button>
												</td>
												<td width="17% !important">
													<button id="SPACE" title="Space &amp; Real Estate Request" class="topBtns" onclick="selectBtn(this,null)">Space, Signage, Records &amp; Real Estate Request</button>
												</td>
						<!-- 						<td>
													<button id="" class="topBtns" onclick="selectBtn(this)">General Request</button>
												</td> -->
												<td width="17% !important">
													<button id="Other" title="Other Campus Request" class="topBtns" onclick="selectBtn(this,null)">Other Campus Requests</button>
												</td>

												<td width="16% !important">
													<button id="IT" title="IT Request" class="topBtns" onclick="selectBtn(this,null)">IT Requests</button>
												</td>
											</tr>
											<tr>
												<!--td>
												</td-->
												<td><button type="button" title="Building Floorplans"  class="blueBtns" onclick="loadAxvw(this,'uc-floor-selector-goog.axvw', true)">Building Floorplans</button>
												</td>
												<td></td>
												<td>
													<button type="button" title="Search My Maintenance/Fleet Requests" class="botBtns" onclick="loadAxvw(this,'uc-wr-my-requests.axvw', true)">Track &amp; Search My Requests</button>
												</td>

												<!--td>
													<button type="button" title="Feedback" class="botBtns" onclick="loadAxvw(this,'uc-wr-fmit-request-dash.axvw', true)">Feedback</button>
												</td-->
												<td>
													<!--button type="button" class="botBtns" onclick="loadAxvw('uc-wr-website.axvw')">What's New / FAQ's</button-->
													<button type="button" title="What's New / FAQ's"  class="botBtns" onclick="openOtherSite('http://www.ucalgary.ca/facilities/archibus', true)">What's New / FAQ's</button>
												</td>
												<td>
												</td>
												<td>
													
												</td>
											</tr>
											</table>
											<table id="btnTbl" class="btnTbl" align="center" cellspacing="5">


										</table>
										<table  style="background-color:#fff" align="center">
											<tr style="background-color:#fff;font-size:11px;font-face:Verdana;">
												<td width="33%" valign="top">
													<p class="msgbox1p1">
													What is the Work Request System?
													</p>
													<p class="ucText">
													The Work Request system is a simple way to request a service from Facilities. Completed forms go directly to our Customer Care Representatives, who review them and pass them on to the appropriate department or service area.
													</p>
													<p class="ucText">
													Please fill out the request form the best you can (fields marked with "*" are required) to ensure your request is processed quickly. Your request will be passed on to the Customer Care Representatives, who will route it as required. Someone will be in touch with you as soon as they get this information.
													</p>
													<!--div id="main_msgWhat"/-->
												</td>
												<td width="33%" valign="top">
													<p class="msgbox1p1">
													Emergencies
													</p>
													<p class="ucText">
													For building related emergencies such as water leaks, broken glass,	 and power outages, please contact Facilities at (403)220-7555.<br></br><br></br>
													For after hours emergency contact Campus Security at (403)220-5333
													</p>
												</td>
												<td width="33%" valign="top">
													<p class="msgbox1p1">
													Residents
													</p>
													<p class="ucText">
													Students with residence or Family Housing related emergencies, such as water leaks, malfunctioning locks, broken glass,
													and power outages, please contact Residence Services at (403)220-8629.
													</p>
												</td>

											</tr>
										</table>



								</td>
							</tr>
						</table>
						<table width="1000px" style="margin:0px auto;background-color:#404041;">
							<span dir="ltr">
								<tr>
									<td>
										<div id="ucFooter">
											<p class="ucCopyright"></p>
										</div>
									</td>
								</tr>
							</span>
						</table>
					</div>


				</body>
			</html>
	</panel>

	<panel type="html" id="requestDetail_btns"  showOnLoad="true" layoutRegion="btns">
		<title translatable="true"></title>
		<!--action id="myInfo">
			<title>My Information</title>
			
			<command type="callFunction" functionName="openMyInfo" />
		</action-->
		<action id="showProbtype">
			<title>Back</title>
			<!-- <tooltip>Back to Request System Tab</tooltip> -->
			<command type="callFunction" functionName="showProbtype" />
		</action>
		<action id="back">
			<title>Home</title>
			<!-- <tooltip>Back to Request System Tab</tooltip> -->
			<command type="callFunction" functionName="backHome" />
		</action>
	</panel>

	<panel type="grid" id="requestDetail_grid" controlType="reportGrid" columns="5" sortEnabled="false" dataSource="requestDetail_gridDs2" showOnLoad="false" layoutRegion="probtype">

		<field table="uc_probcat" name="activity" hidden="true" />
		<field name="row" dataType="text" hidden="true"/>

		<field name="col1Image" dataType="text" hidden="true"/>
		<field name="col1ProbCat" dataType="text" controlType="link" />

		<field name="col2Image" dataType="text" hidden="true"/>
		<field name="col2ProbCat" dataType="text" controlType="link"/>

		<field name="col3Image" dataType="text" hidden="true"/>
		<field name="col3ProbCat" dataType="text" controlType="link"/>

		<field name="col4Image" dataType="text" hidden="true"/>
		<field name="col4ProbCat" dataType="text" controlType="link"/>

		<field name="col5Image" dataType="text" hidden="true"/>
		<field name="col5ProbCat" dataType="text" controlType="link"/>

		<field name="file1" dataType="text" hidden="true"/>
		<field name="file2" dataType="text" hidden="true"/>
		<field name="file3" dataType="text" hidden="true"/>
		<field name="file4" dataType="text" hidden="true"/>
		<field name="file5" dataType="text" hidden="true"/>
    </panel>

	<panel type="view" id="reportDisplayPanel" useFrame="true" showOnLoad="false" layoutRegion="details" >
<!-- 	 	<action id="back">
			<title>Test</title>
		</action> -->
	</panel>

</view>
